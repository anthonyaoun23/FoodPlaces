{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"../Matrix2D","data":{"isAsync":false}},{"name":"./transform","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.props2transform = props2transform;\n  exports.transformToMatrix = transformToMatrix;\n  exports.default = extractTransform;\n\n  var _Matrix2D = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"../Matrix2D\"));\n\n  var _transform = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./transform\"));\n\n  var pooledMatrix = new _Matrix2D.default();\n\n  function appendTransform(props) {\n    pooledMatrix.appendTransform(props.x + props.originX, props.y + props.originY, props.scaleX, props.scaleY, props.rotation, props.skewX, props.skewY, props.originX, props.originY);\n  }\n\n  function universal2axis(universal, axisX, axisY, defaultValue) {\n    var x;\n    var y;\n\n    if (typeof universal === 'number') {\n      x = y = universal;\n    } else if (typeof universal === 'string') {\n      var coords = universal.split(/\\s*,\\s*/);\n\n      if (coords.length === 2) {\n        x = +coords[0];\n        y = +coords[1];\n      } else if (coords.length === 1) {\n        x = y = +coords[0];\n      }\n    }\n\n    axisX = +axisX;\n\n    if (!isNaN(axisX)) {\n      x = axisX;\n    }\n\n    axisY = +axisY;\n\n    if (!isNaN(axisY)) {\n      y = axisY;\n    }\n\n    return [x || defaultValue || 0, y || defaultValue || 0];\n  }\n\n  function props2transform(props) {\n    var origin = universal2axis(props.origin, props.originX, props.originY);\n    var scale = universal2axis(props.scale, props.scaleX, props.scaleY, 1);\n    var skew = universal2axis(props.skew, props.skewX, props.skewY);\n    var translate = universal2axis(props.translate, props.translateX == null ? props.x || 0 : props.translateX, props.translateY == null ? props.y || 0 : props.translateY);\n    return {\n      rotation: +props.rotation || 0,\n      scaleX: scale[0],\n      scaleY: scale[1],\n      originX: origin[0],\n      originY: origin[1],\n      skewX: skew[0],\n      skewY: skew[1],\n      x: translate[0],\n      y: translate[1]\n    };\n  }\n\n  function transformToMatrix(props, transform) {\n    pooledMatrix.reset();\n    appendTransform(props);\n\n    if (transform) {\n      if (Array.isArray(transform)) {\n        if (typeof transform[0] === 'number') {\n          pooledMatrix.append(transform[0], transform[1], transform[2], transform[3], transform[4], transform[5]);\n        }\n      } else if (typeof transform === 'string') {\n        try {\n          var t = _transform.default.parse(transform);\n\n          pooledMatrix.append(t[0], t[3], t[1], t[4], t[2], t[5]);\n        } catch (e) {\n          console.error(e);\n        }\n      } else {\n        appendTransform(props2transform(transform));\n      }\n    }\n\n    return pooledMatrix.toArray();\n  }\n\n  function extractTransform(props) {\n    if (Array.isArray(props)) {\n      return props;\n    }\n\n    if (typeof props === 'string') {\n      try {\n        var t = _transform.default.parse(props);\n\n        return [t[0], t[3], t[1], t[4], t[2], t[5]];\n      } catch (e) {\n        console.error(e);\n        return _Matrix2D.identity;\n      }\n    }\n\n    return transformToMatrix(props2transform(props), props.transform);\n  }\n});","map":[[13,0,1,0],[15,0,2,0],[17,0,4,0],[17,6,4,6,"pooledMatrix"],[17,18,4,18],[17,21,4,21],[17,25,4,25,"Matrix2D"],[17,42,4,21],[17,44,4,0],[19,0,6,0],[19,11,6,9,"appendTransform"],[19,26,6,0],[19,27,6,25,"props"],[19,32,6,0],[19,34,6,32],[20,0,7,2,"pooledMatrix"],[20,4,7,2,"pooledMatrix"],[20,16,7,14],[20,17,7,15,"appendTransform"],[20,32,7,2],[20,33,8,4,"props"],[20,38,8,9],[20,39,8,10,"x"],[20,40,8,4],[20,43,8,14,"props"],[20,48,8,19],[20,49,8,20,"originX"],[20,56,7,2],[20,58,9,4,"props"],[20,63,9,9],[20,64,9,10,"y"],[20,65,9,4],[20,68,9,14,"props"],[20,73,9,19],[20,74,9,20,"originY"],[20,81,7,2],[20,83,10,4,"props"],[20,88,10,9],[20,89,10,10,"scaleX"],[20,95,7,2],[20,97,11,4,"props"],[20,102,11,9],[20,103,11,10,"scaleY"],[20,109,7,2],[20,111,12,4,"props"],[20,116,12,9],[20,117,12,10,"rotation"],[20,125,7,2],[20,127,13,4,"props"],[20,132,13,9],[20,133,13,10,"skewX"],[20,138,7,2],[20,140,14,4,"props"],[20,145,14,9],[20,146,14,10,"skewY"],[20,151,7,2],[20,153,15,4,"props"],[20,158,15,9],[20,159,15,10,"originX"],[20,166,7,2],[20,168,16,4,"props"],[20,173,16,9],[20,174,16,10,"originY"],[20,181,7,2],[21,0,18,1],[23,0,20,0],[23,11,20,9,"universal2axis"],[23,25,20,0],[23,26,20,24,"universal"],[23,35,20,0],[23,37,20,35,"axisX"],[23,42,20,0],[23,44,20,42,"axisY"],[23,49,20,0],[23,51,20,49,"defaultValue"],[23,63,20,0],[23,65,20,63],[24,0,21,2],[24,8,21,6,"x"],[24,9,21,2],[25,0,22,2],[25,8,22,6,"y"],[25,9,22,2],[27,0,23,2],[27,8,23,6],[27,15,23,13,"universal"],[27,24,23,6],[27,29,23,27],[27,37,23,2],[27,39,23,37],[28,0,24,4,"x"],[28,6,24,4,"x"],[28,7,24,5],[28,10,24,8,"y"],[28,11,24,9],[28,14,24,12,"universal"],[28,23,24,4],[29,0,25,3],[29,5,23,2],[29,11,25,9],[29,15,25,13],[29,22,25,20,"universal"],[29,31,25,13],[29,36,25,34],[29,44,25,9],[29,46,25,44],[30,0,26,4],[30,10,26,10,"coords"],[30,16,26,16],[30,19,26,19,"universal"],[30,28,26,28],[30,29,26,29,"split"],[30,34,26,19],[30,35,26,35],[30,44,26,19],[30,45,26,4],[32,0,27,4],[32,10,27,8,"coords"],[32,16,27,14],[32,17,27,15,"length"],[32,23,27,8],[32,28,27,26],[32,29,27,4],[32,31,27,29],[33,0,28,6,"x"],[33,8,28,6,"x"],[33,9,28,7],[33,12,28,10],[33,13,28,11,"coords"],[33,19,28,17],[33,20,28,18],[33,21,28,17],[33,22,28,6],[34,0,29,6,"y"],[34,8,29,6,"y"],[34,9,29,7],[34,12,29,10],[34,13,29,11,"coords"],[34,19,29,17],[34,20,29,18],[34,21,29,17],[34,22,29,6],[35,0,30,5],[35,7,27,4],[35,13,30,11],[35,17,30,15,"coords"],[35,23,30,21],[35,24,30,22,"length"],[35,30,30,15],[35,35,30,33],[35,36,30,11],[35,38,30,36],[36,0,31,6,"x"],[36,8,31,6,"x"],[36,9,31,7],[36,12,31,10,"y"],[36,13,31,11],[36,16,31,14],[36,17,31,15,"coords"],[36,23,31,21],[36,24,31,22],[36,25,31,21],[36,26,31,6],[37,0,32,5],[38,0,33,3],[40,0,35,2,"axisX"],[40,4,35,2,"axisX"],[40,9,35,7],[40,12,35,10],[40,13,35,11,"axisX"],[40,18,35,2],[42,0,36,2],[42,8,36,6],[42,9,36,7,"isNaN"],[42,14,36,12],[42,15,36,13,"axisX"],[42,20,36,12],[42,21,36,2],[42,23,36,21],[43,0,37,4,"x"],[43,6,37,4,"x"],[43,7,37,5],[43,10,37,8,"axisX"],[43,15,37,4],[44,0,38,3],[46,0,40,2,"axisY"],[46,4,40,2,"axisY"],[46,9,40,7],[46,12,40,10],[46,13,40,11,"axisY"],[46,18,40,2],[48,0,41,2],[48,8,41,6],[48,9,41,7,"isNaN"],[48,14,41,12],[48,15,41,13,"axisY"],[48,20,41,12],[48,21,41,2],[48,23,41,21],[49,0,42,4,"y"],[49,6,42,4,"y"],[49,7,42,5],[49,10,42,8,"axisY"],[49,15,42,4],[50,0,43,3],[52,0,45,2],[52,11,45,9],[52,12,45,10,"x"],[52,13,45,11],[52,17,45,15,"defaultValue"],[52,29,45,10],[52,33,45,31],[52,34,45,9],[52,36,45,34,"y"],[52,37,45,35],[52,41,45,39,"defaultValue"],[52,53,45,34],[52,57,45,55],[52,58,45,9],[52,59,45,2],[53,0,46,1],[55,0,48,7],[55,11,48,16,"props2transform"],[55,26,48,7],[55,27,48,32,"props"],[55,32,48,7],[55,34,48,39],[56,0,49,2],[56,8,49,8,"origin"],[56,14,49,14],[56,17,49,17,"universal2axis"],[56,31,49,31],[56,32,49,32,"props"],[56,37,49,37],[56,38,49,38,"origin"],[56,44,49,31],[56,46,49,46,"props"],[56,51,49,51],[56,52,49,52,"originX"],[56,59,49,31],[56,61,49,61,"props"],[56,66,49,66],[56,67,49,67,"originY"],[56,74,49,31],[56,75,49,2],[57,0,50,2],[57,8,50,8,"scale"],[57,13,50,13],[57,16,50,16,"universal2axis"],[57,30,50,30],[57,31,50,31,"props"],[57,36,50,36],[57,37,50,37,"scale"],[57,42,50,30],[57,44,50,44,"props"],[57,49,50,49],[57,50,50,50,"scaleX"],[57,56,50,30],[57,58,50,58,"props"],[57,63,50,63],[57,64,50,64,"scaleY"],[57,70,50,30],[57,72,50,72],[57,73,50,30],[57,74,50,2],[58,0,51,2],[58,8,51,8,"skew"],[58,12,51,12],[58,15,51,15,"universal2axis"],[58,29,51,29],[58,30,51,30,"props"],[58,35,51,35],[58,36,51,36,"skew"],[58,40,51,29],[58,42,51,42,"props"],[58,47,51,47],[58,48,51,48,"skewX"],[58,53,51,29],[58,55,51,55,"props"],[58,60,51,60],[58,61,51,61,"skewY"],[58,66,51,29],[58,67,51,2],[59,0,52,2],[59,8,52,8,"translate"],[59,17,52,17],[59,20,52,20,"universal2axis"],[59,34,52,34],[59,35,53,4,"props"],[59,40,53,9],[59,41,53,10,"translate"],[59,50,52,34],[59,52,54,4,"props"],[59,57,54,9],[59,58,54,10,"translateX"],[59,68,54,4],[59,72,54,24],[59,76,54,4],[59,79,54,31,"props"],[59,84,54,36],[59,85,54,37,"x"],[59,86,54,31],[59,90,54,42],[59,91,54,4],[59,94,54,46,"props"],[59,99,54,51],[59,100,54,52,"translateX"],[59,110,52,34],[59,112,55,4,"props"],[59,117,55,9],[59,118,55,10,"translateY"],[59,128,55,4],[59,132,55,24],[59,136,55,4],[59,139,55,31,"props"],[59,144,55,36],[59,145,55,37,"y"],[59,146,55,31],[59,150,55,42],[59,151,55,4],[59,154,55,46,"props"],[59,159,55,51],[59,160,55,52,"translateY"],[59,170,52,34],[59,171,52,2],[60,0,58,2],[60,11,58,9],[61,0,59,4,"rotation"],[61,6,59,4,"rotation"],[61,14,59,12],[61,16,59,14],[61,17,59,15,"props"],[61,22,59,20],[61,23,59,21,"rotation"],[61,31,59,14],[61,35,59,33],[61,36,58,9],[62,0,60,4,"scaleX"],[62,6,60,4,"scaleX"],[62,12,60,10],[62,14,60,12,"scale"],[62,19,60,17],[62,20,60,18],[62,21,60,17],[62,22,58,9],[63,0,61,4,"scaleY"],[63,6,61,4,"scaleY"],[63,12,61,10],[63,14,61,12,"scale"],[63,19,61,17],[63,20,61,18],[63,21,61,17],[63,22,58,9],[64,0,62,4,"originX"],[64,6,62,4,"originX"],[64,13,62,11],[64,15,62,13,"origin"],[64,21,62,19],[64,22,62,20],[64,23,62,19],[64,24,58,9],[65,0,63,4,"originY"],[65,6,63,4,"originY"],[65,13,63,11],[65,15,63,13,"origin"],[65,21,63,19],[65,22,63,20],[65,23,63,19],[65,24,58,9],[66,0,64,4,"skewX"],[66,6,64,4,"skewX"],[66,11,64,9],[66,13,64,11,"skew"],[66,17,64,15],[66,18,64,16],[66,19,64,15],[66,20,58,9],[67,0,65,4,"skewY"],[67,6,65,4,"skewY"],[67,11,65,9],[67,13,65,11,"skew"],[67,17,65,15],[67,18,65,16],[67,19,65,15],[67,20,58,9],[68,0,66,4,"x"],[68,6,66,4,"x"],[68,7,66,5],[68,9,66,7,"translate"],[68,18,66,16],[68,19,66,17],[68,20,66,16],[68,21,58,9],[69,0,67,4,"y"],[69,6,67,4,"y"],[69,7,67,5],[69,9,67,7,"translate"],[69,18,67,16],[69,19,67,17],[69,20,67,16],[70,0,58,9],[70,5,58,2],[71,0,69,1],[73,0,71,7],[73,11,71,16,"transformToMatrix"],[73,28,71,7],[73,29,71,34,"props"],[73,34,71,7],[73,36,71,41,"transform"],[73,45,71,7],[73,47,71,52],[74,0,72,2,"pooledMatrix"],[74,4,72,2,"pooledMatrix"],[74,16,72,14],[74,17,72,15,"reset"],[74,22,72,2],[75,0,73,2,"appendTransform"],[75,4,73,2,"appendTransform"],[75,19,73,17],[75,20,73,18,"props"],[75,25,73,17],[75,26,73,2],[77,0,75,2],[77,8,75,6,"transform"],[77,17,75,2],[77,19,75,17],[78,0,76,4],[78,10,76,8,"Array"],[78,15,76,13],[78,16,76,14,"isArray"],[78,23,76,8],[78,24,76,22,"transform"],[78,33,76,8],[78,34,76,4],[78,36,76,34],[79,0,77,6],[79,12,77,10],[79,19,77,17,"transform"],[79,28,77,26],[79,29,77,27],[79,30,77,26],[79,31,77,10],[79,36,77,34],[79,44,77,6],[79,46,77,44],[80,0,78,8,"pooledMatrix"],[80,10,78,8,"pooledMatrix"],[80,22,78,20],[80,23,78,21,"append"],[80,29,78,8],[80,30,79,10,"transform"],[80,39,79,19],[80,40,79,20],[80,41,79,19],[80,42,78,8],[80,44,80,10,"transform"],[80,53,80,19],[80,54,80,20],[80,55,80,19],[80,56,78,8],[80,58,81,10,"transform"],[80,67,81,19],[80,68,81,20],[80,69,81,19],[80,70,78,8],[80,72,82,10,"transform"],[80,81,82,19],[80,82,82,20],[80,83,82,19],[80,84,78,8],[80,86,83,10,"transform"],[80,95,83,19],[80,96,83,20],[80,97,83,19],[80,98,78,8],[80,100,84,10,"transform"],[80,109,84,19],[80,110,84,20],[80,111,84,19],[80,112,78,8],[81,0,86,7],[82,0,88,5],[82,7,76,4],[82,13,88,11],[82,17,88,15],[82,24,88,22,"transform"],[82,33,88,15],[82,38,88,36],[82,46,88,11],[82,48,88,46],[83,0,89,6],[83,12,89,10],[84,0,90,8],[84,14,90,14,"t"],[84,15,90,15],[84,18,90,18,"transformParser"],[84,37,90,34,"parse"],[84,42,90,18],[84,43,90,40,"transform"],[84,52,90,18],[84,53,90,8],[86,0,91,8,"pooledMatrix"],[86,10,91,8,"pooledMatrix"],[86,22,91,20],[86,23,91,21,"append"],[86,29,91,8],[86,30,91,28,"t"],[86,31,91,29],[86,32,91,30],[86,33,91,29],[86,34,91,8],[86,36,91,34,"t"],[86,37,91,35],[86,38,91,36],[86,39,91,35],[86,40,91,8],[86,42,91,40,"t"],[86,43,91,41],[86,44,91,42],[86,45,91,41],[86,46,91,8],[86,48,91,46,"t"],[86,49,91,47],[86,50,91,48],[86,51,91,47],[86,52,91,8],[86,54,91,52,"t"],[86,55,91,53],[86,56,91,54],[86,57,91,53],[86,58,91,8],[86,60,91,58,"t"],[86,61,91,59],[86,62,91,60],[86,63,91,59],[86,64,91,8],[87,0,92,7],[87,9,89,6],[87,10,92,8],[87,17,92,15,"e"],[87,18,92,8],[87,20,92,18],[88,0,93,8,"console"],[88,10,93,8,"console"],[88,17,93,15],[88,18,93,16,"error"],[88,23,93,8],[88,24,93,22,"e"],[88,25,93,8],[89,0,94,7],[90,0,95,5],[90,7,88,11],[90,13,95,11],[91,0,96,6,"appendTransform"],[91,8,96,6,"appendTransform"],[91,23,96,21],[91,24,96,22,"props2transform"],[91,39,96,37],[91,40,96,38,"transform"],[91,49,96,37],[91,50,96,21],[91,51,96,6],[92,0,97,5],[93,0,98,3],[95,0,100,2],[95,11,100,9,"pooledMatrix"],[95,23,100,21],[95,24,100,22,"toArray"],[95,31,100,9],[95,33,100,2],[96,0,101,1],[98,0,103,15],[98,11,103,24,"extractTransform"],[98,27,103,15],[98,28,103,41,"props"],[98,33,103,15],[98,35,103,48],[99,0,104,2],[99,8,104,6,"Array"],[99,13,104,11],[99,14,104,12,"isArray"],[99,21,104,6],[99,22,104,20,"props"],[99,27,104,6],[99,28,104,2],[99,30,104,28],[100,0,105,4],[100,13,105,11,"props"],[100,18,105,4],[101,0,106,3],[103,0,107,2],[103,8,107,6],[103,15,107,13,"props"],[103,20,107,6],[103,25,107,23],[103,33,107,2],[103,35,107,33],[104,0,108,4],[104,10,108,8],[105,0,109,6],[105,12,109,12,"t"],[105,13,109,13],[105,16,109,16,"transformParser"],[105,35,109,32,"parse"],[105,40,109,16],[105,41,109,38,"props"],[105,46,109,16],[105,47,109,6],[107,0,110,6],[107,15,110,13],[107,16,110,14,"t"],[107,17,110,15],[107,18,110,16],[107,19,110,15],[107,20,110,13],[107,22,110,20,"t"],[107,23,110,21],[107,24,110,22],[107,25,110,21],[107,26,110,13],[107,28,110,26,"t"],[107,29,110,27],[107,30,110,28],[107,31,110,27],[107,32,110,13],[107,34,110,32,"t"],[107,35,110,33],[107,36,110,34],[107,37,110,33],[107,38,110,13],[107,40,110,38,"t"],[107,41,110,39],[107,42,110,40],[107,43,110,39],[107,44,110,13],[107,46,110,44,"t"],[107,47,110,45],[107,48,110,46],[107,49,110,45],[107,50,110,13],[107,51,110,6],[108,0,111,5],[108,7,108,4],[108,8,111,6],[108,15,111,13,"e"],[108,16,111,6],[108,18,111,16],[109,0,112,6,"console"],[109,8,112,6,"console"],[109,15,112,13],[109,16,112,14,"error"],[109,21,112,6],[109,22,112,20,"e"],[109,23,112,6],[110,0,113,6],[110,15,113,13,"identity"],[110,33,113,6],[111,0,114,5],[112,0,115,3],[114,0,116,2],[114,11,116,9,"transformToMatrix"],[114,28,116,26],[114,29,116,27,"props2transform"],[114,44,116,42],[114,45,116,43,"props"],[114,50,116,42],[114,51,116,26],[114,53,116,51,"props"],[114,58,116,56],[114,59,116,57,"transform"],[114,68,116,26],[114,69,116,2],[115,0,117,1]]},"type":"js/module"}]}
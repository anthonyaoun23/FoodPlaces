{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./ExponentSpeech","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"./Speech.types","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.speak = speak;\n  exports.getAvailableVoicesAsync = getAvailableVoicesAsync;\n  exports.isSpeakingAsync = isSpeakingAsync;\n  exports.stop = stop;\n  exports.pause = pause;\n  exports.resume = resume;\n  Object.defineProperty(exports, \"VoiceQuality\", {\n    enumerable: true,\n    get: function get() {\n      return _Speech.VoiceQuality;\n    }\n  });\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var _ExponentSpeech = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./ExponentSpeech\"));\n\n  var _core = _$$_REQUIRE(_dependencyMap[4], \"@unimodules/core\");\n\n  var _Speech = _$$_REQUIRE(_dependencyMap[5], \"./Speech.types\");\n\n  var SpeechEventEmitter = _ExponentSpeech.default && new _reactNative.NativeEventEmitter(_ExponentSpeech.default);\n  var _CALLBACKS = {};\n  var _nextCallbackId = 1;\n  var _didSetListeners = false;\n\n  function _unregisterListenersIfNeeded() {\n    if (Object.keys(_CALLBACKS).length === 0) {\n      removeSpeakingListener('Exponent.speakingStarted');\n      removeSpeakingListener('Exponent.speakingDone');\n      removeSpeakingListener('Exponent.speakingStopped');\n      removeSpeakingListener('Exponent.speakingError');\n      _didSetListeners = false;\n    }\n  }\n\n  function _registerListenersIfNeeded() {\n    if (_didSetListeners) return;\n    _didSetListeners = true;\n    setSpeakingListener('Exponent.speakingStarted', function (_ref) {\n      var id = _ref.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onStart) {\n        options.onStart();\n      }\n    });\n    setSpeakingListener('Exponent.speakingDone', function (_ref2) {\n      var id = _ref2.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onDone) {\n        options.onDone();\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n    setSpeakingListener('Exponent.speakingStopped', function (_ref3) {\n      var id = _ref3.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onStopped) {\n        options.onStopped();\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n    setSpeakingListener('Exponent.speakingError', function (_ref4) {\n      var id = _ref4.id,\n          error = _ref4.error;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onError) {\n        options.onError(new Error(error));\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n  }\n\n  function speak(text) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = _nextCallbackId++;\n    _CALLBACKS[id] = options;\n\n    _registerListenersIfNeeded();\n\n    _ExponentSpeech.default.speak(String(id), text, options);\n  }\n\n  function getAvailableVoicesAsync() {\n    return _regenerator.default.async(function getAvailableVoicesAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (_ExponentSpeech.default.getVoices) {\n              _context.next = 2;\n              break;\n            }\n\n            throw new _core.UnavailabilityError('Speech', 'getVoices');\n\n          case 2:\n            return _context.abrupt(\"return\", _ExponentSpeech.default.getVoices());\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  function isSpeakingAsync() {\n    return _regenerator.default.async(function isSpeakingAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", _ExponentSpeech.default.isSpeaking());\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  }\n\n  function stop() {\n    return _regenerator.default.async(function stop$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", _ExponentSpeech.default.stop());\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  }\n\n  function pause() {\n    return _regenerator.default.async(function pause$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (_ExponentSpeech.default.pause) {\n              _context4.next = 2;\n              break;\n            }\n\n            throw new _core.UnavailabilityError('Speech', 'pause');\n\n          case 2:\n            return _context4.abrupt(\"return\", _ExponentSpeech.default.pause());\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    });\n  }\n\n  function resume() {\n    return _regenerator.default.async(function resume$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (_ExponentSpeech.default.resume) {\n              _context5.next = 2;\n              break;\n            }\n\n            throw new _core.UnavailabilityError('Speech', 'resume');\n\n          case 2:\n            return _context5.abrupt(\"return\", _ExponentSpeech.default.resume());\n\n          case 3:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    });\n  }\n\n  function setSpeakingListener(eventName, callback) {\n    if (SpeechEventEmitter.listeners(eventName).length > 0) {\n      SpeechEventEmitter.removeAllListeners(eventName);\n    }\n\n    SpeechEventEmitter.addListener(eventName, callback);\n  }\n\n  function removeSpeakingListener(eventName) {\n    SpeechEventEmitter.removeAllListeners(eventName);\n  }\n});","map":[[22,0,1,0],[24,0,2,0],[26,0,3,0],[28,0,4,0],[30,0,5,0],[30,6,5,6,"SpeechEventEmitter"],[30,24,5,24],[30,27,5,27,"ExponentSpeech"],[30,54,5,45],[30,58,5,49,"NativeEventEmitter"],[30,89,5,45],[30,90,5,68,"ExponentSpeech"],[30,113,5,45],[30,114,5,0],[31,0,7,0],[31,6,7,6,"_CALLBACKS"],[31,16,7,16],[31,19,7,19],[31,21,7,0],[32,0,8,0],[32,6,8,4,"_nextCallbackId"],[32,21,8,19],[32,24,8,22],[32,25,8,0],[33,0,9,0],[33,6,9,4,"_didSetListeners"],[33,22,9,20],[33,25,9,23],[33,30,9,0],[35,0,10,0],[35,11,10,9,"_unregisterListenersIfNeeded"],[35,39,10,0],[35,42,10,40],[36,0,11,4],[36,8,11,8,"Object"],[36,14,11,14],[36,15,11,15,"keys"],[36,19,11,8],[36,20,11,20,"_CALLBACKS"],[36,30,11,8],[36,32,11,32,"length"],[36,38,11,8],[36,43,11,43],[36,44,11,4],[36,46,11,46],[37,0,12,8,"removeSpeakingListener"],[37,6,12,8,"removeSpeakingListener"],[37,28,12,30],[37,29,12,31],[37,55,12,30],[37,56,12,8],[38,0,13,8,"removeSpeakingListener"],[38,6,13,8,"removeSpeakingListener"],[38,28,13,30],[38,29,13,31],[38,52,13,30],[38,53,13,8],[39,0,14,8,"removeSpeakingListener"],[39,6,14,8,"removeSpeakingListener"],[39,28,14,30],[39,29,14,31],[39,55,14,30],[39,56,14,8],[40,0,15,8,"removeSpeakingListener"],[40,6,15,8,"removeSpeakingListener"],[40,28,15,30],[40,29,15,31],[40,53,15,30],[40,54,15,8],[41,0,16,8,"_didSetListeners"],[41,6,16,8,"_didSetListeners"],[41,22,16,24],[41,25,16,27],[41,30,16,8],[42,0,17,5],[43,0,18,1],[45,0,19,0],[45,11,19,9,"_registerListenersIfNeeded"],[45,37,19,0],[45,40,19,38],[46,0,20,4],[46,8,20,8,"_didSetListeners"],[46,24,20,4],[46,26,21,8],[47,0,22,4,"_didSetListeners"],[47,4,22,4,"_didSetListeners"],[47,20,22,20],[47,23,22,23],[47,27,22,4],[48,0,23,4,"setSpeakingListener"],[48,4,23,4,"setSpeakingListener"],[48,23,23,23],[48,24,23,24],[48,50,23,23],[48,52,23,52],[48,68,23,64],[49,0,23,64],[49,10,23,55,"id"],[49,12,23,64],[49,20,23,55,"id"],[49,22,23,64],[50,0,24,8],[50,10,24,14,"options"],[50,17,24,21],[50,20,24,24,"_CALLBACKS"],[50,30,24,34],[50,31,24,35,"id"],[50,33,24,34],[50,34,24,8],[52,0,25,8],[52,10,25,12,"options"],[52,17,25,19],[52,21,25,23,"options"],[52,28,25,30],[52,29,25,31,"onStart"],[52,36,25,8],[52,38,25,40],[53,0,26,12,"options"],[53,8,26,12,"options"],[53,15,26,19],[53,16,26,20,"onStart"],[53,23,26,12],[54,0,27,9],[55,0,28,5],[55,5,23,23],[55,6,23,4],[56,0,29,4,"setSpeakingListener"],[56,4,29,4,"setSpeakingListener"],[56,23,29,23],[56,24,29,24],[56,47,29,23],[56,49,29,49],[56,66,29,61],[57,0,29,61],[57,10,29,52,"id"],[57,12,29,61],[57,21,29,52,"id"],[57,23,29,61],[58,0,30,8],[58,10,30,14,"options"],[58,17,30,21],[58,20,30,24,"_CALLBACKS"],[58,30,30,34],[58,31,30,35,"id"],[58,33,30,34],[58,34,30,8],[60,0,31,8],[60,10,31,12,"options"],[60,17,31,19],[60,21,31,23,"options"],[60,28,31,30],[60,29,31,31,"onDone"],[60,35,31,8],[60,37,31,39],[61,0,32,12,"options"],[61,8,32,12,"options"],[61,15,32,19],[61,16,32,20,"onDone"],[61,22,32,12],[62,0,33,9],[64,0,34,8],[64,13,34,15,"_CALLBACKS"],[64,23,34,25],[64,24,34,26,"id"],[64,26,34,25],[64,27,34,8],[66,0,35,8,"_unregisterListenersIfNeeded"],[66,6,35,8,"_unregisterListenersIfNeeded"],[66,34,35,36],[67,0,36,5],[67,5,29,23],[67,6,29,4],[68,0,37,4,"setSpeakingListener"],[68,4,37,4,"setSpeakingListener"],[68,23,37,23],[68,24,37,24],[68,50,37,23],[68,52,37,52],[68,69,37,64],[69,0,37,64],[69,10,37,55,"id"],[69,12,37,64],[69,21,37,55,"id"],[69,23,37,64],[70,0,38,8],[70,10,38,14,"options"],[70,17,38,21],[70,20,38,24,"_CALLBACKS"],[70,30,38,34],[70,31,38,35,"id"],[70,33,38,34],[70,34,38,8],[72,0,39,8],[72,10,39,12,"options"],[72,17,39,19],[72,21,39,23,"options"],[72,28,39,30],[72,29,39,31,"onStopped"],[72,38,39,8],[72,40,39,42],[73,0,40,12,"options"],[73,8,40,12,"options"],[73,15,40,19],[73,16,40,20,"onStopped"],[73,25,40,12],[74,0,41,9],[76,0,42,8],[76,13,42,15,"_CALLBACKS"],[76,23,42,25],[76,24,42,26,"id"],[76,26,42,25],[76,27,42,8],[78,0,43,8,"_unregisterListenersIfNeeded"],[78,6,43,8,"_unregisterListenersIfNeeded"],[78,34,43,36],[79,0,44,5],[79,5,37,23],[79,6,37,4],[80,0,45,4,"setSpeakingListener"],[80,4,45,4,"setSpeakingListener"],[80,23,45,23],[80,24,45,24],[80,48,45,23],[80,50,45,50],[80,67,45,69],[81,0,45,69],[81,10,45,53,"id"],[81,12,45,69],[81,21,45,53,"id"],[81,23,45,69],[82,0,45,69],[82,10,45,57,"error"],[82,15,45,69],[82,24,45,57,"error"],[82,29,45,69],[83,0,46,8],[83,10,46,14,"options"],[83,17,46,21],[83,20,46,24,"_CALLBACKS"],[83,30,46,34],[83,31,46,35,"id"],[83,33,46,34],[83,34,46,8],[85,0,47,8],[85,10,47,12,"options"],[85,17,47,19],[85,21,47,23,"options"],[85,28,47,30],[85,29,47,31,"onError"],[85,36,47,8],[85,38,47,40],[86,0,48,12,"options"],[86,8,48,12,"options"],[86,15,48,19],[86,16,48,20,"onError"],[86,23,48,12],[86,24,48,28],[86,28,48,32,"Error"],[86,33,48,28],[86,34,48,38,"error"],[86,39,48,28],[86,40,48,12],[87,0,49,9],[89,0,50,8],[89,13,50,15,"_CALLBACKS"],[89,23,50,25],[89,24,50,26,"id"],[89,26,50,25],[89,27,50,8],[91,0,51,8,"_unregisterListenersIfNeeded"],[91,6,51,8,"_unregisterListenersIfNeeded"],[91,34,51,36],[92,0,52,5],[92,5,45,23],[92,6,45,4],[93,0,53,1],[95,0,54,7],[95,11,54,16,"speak"],[95,16,54,7],[95,17,54,22,"text"],[95,21,54,7],[95,23,54,42],[96,0,54,42],[96,8,54,28,"options"],[96,15,54,42],[96,86,54,38],[96,88,54,42],[97,0,55,4],[97,8,55,10,"id"],[97,10,55,12],[97,13,55,15,"_nextCallbackId"],[97,28,55,30],[97,30,55,4],[98,0,56,4,"_CALLBACKS"],[98,4,56,4,"_CALLBACKS"],[98,14,56,14],[98,15,56,15,"id"],[98,17,56,14],[98,18,56,4],[98,21,56,21,"options"],[98,28,56,4],[100,0,57,4,"_registerListenersIfNeeded"],[100,4,57,4,"_registerListenersIfNeeded"],[100,30,57,30],[102,0,58,4,"ExponentSpeech"],[102,28,58,19,"speak"],[102,33,58,4],[102,34,58,25,"String"],[102,40,58,31],[102,41,58,32,"id"],[102,43,58,31],[102,44,58,4],[102,46,58,37,"text"],[102,50,58,4],[102,52,58,43,"options"],[102,59,58,4],[103,0,59,1],[105,0,60,7],[105,11,60,22,"getAvailableVoicesAsync"],[105,34,60,7],[106,0,60,7],[107,0,60,7],[108,0,60,7],[109,0,60,7],[110,0,60,7],[110,16,61,9,"ExponentSpeech"],[110,40,61,24,"getVoices"],[110,49,60,7],[111,0,60,7],[112,0,60,7],[113,0,60,7],[115,0,60,7],[115,18,62,14],[115,22,62,18,"UnavailabilityError"],[115,47,62,14],[115,48,62,38],[115,56,62,14],[115,58,62,48],[115,69,62,14],[115,70,60,7],[117,0,60,7],[118,0,60,7],[118,45,64,11,"ExponentSpeech"],[118,69,64,26,"getVoices"],[118,78,64,11],[118,80,60,7],[120,0,60,7],[121,0,60,7],[122,0,60,7],[123,0,60,7],[124,0,60,7],[125,0,60,7],[126,0,60,7],[128,0,66,7],[128,11,66,22,"isSpeakingAsync"],[128,26,66,7],[129,0,66,7],[130,0,66,7],[131,0,66,7],[132,0,66,7],[133,0,66,7],[133,46,67,11,"ExponentSpeech"],[133,70,67,26,"isSpeaking"],[133,80,67,11],[133,82,66,7],[135,0,66,7],[136,0,66,7],[137,0,66,7],[138,0,66,7],[139,0,66,7],[140,0,66,7],[141,0,66,7],[143,0,69,7],[143,11,69,22,"stop"],[143,15,69,7],[144,0,69,7],[145,0,69,7],[146,0,69,7],[147,0,69,7],[148,0,69,7],[148,46,70,11,"ExponentSpeech"],[148,70,70,26,"stop"],[148,74,70,11],[148,76,69,7],[150,0,69,7],[151,0,69,7],[152,0,69,7],[153,0,69,7],[154,0,69,7],[155,0,69,7],[156,0,69,7],[158,0,72,7],[158,11,72,22,"pause"],[158,16,72,7],[159,0,72,7],[160,0,72,7],[161,0,72,7],[162,0,72,7],[163,0,72,7],[163,16,73,9,"ExponentSpeech"],[163,40,73,24,"pause"],[163,45,72,7],[164,0,72,7],[165,0,72,7],[166,0,72,7],[168,0,72,7],[168,18,74,14],[168,22,74,18,"UnavailabilityError"],[168,47,74,14],[168,48,74,38],[168,56,74,14],[168,58,74,48],[168,65,74,14],[168,66,72,7],[170,0,72,7],[171,0,72,7],[171,46,76,11,"ExponentSpeech"],[171,70,76,26,"pause"],[171,75,76,11],[171,77,72,7],[173,0,72,7],[174,0,72,7],[175,0,72,7],[176,0,72,7],[177,0,72,7],[178,0,72,7],[179,0,72,7],[181,0,78,7],[181,11,78,22,"resume"],[181,17,78,7],[182,0,78,7],[183,0,78,7],[184,0,78,7],[185,0,78,7],[186,0,78,7],[186,16,79,9,"ExponentSpeech"],[186,40,79,24,"resume"],[186,46,78,7],[187,0,78,7],[188,0,78,7],[189,0,78,7],[191,0,78,7],[191,18,80,14],[191,22,80,18,"UnavailabilityError"],[191,47,80,14],[191,48,80,38],[191,56,80,14],[191,58,80,48],[191,66,80,14],[191,67,78,7],[193,0,78,7],[194,0,78,7],[194,46,82,11,"ExponentSpeech"],[194,70,82,26,"resume"],[194,76,82,11],[194,78,78,7],[196,0,78,7],[197,0,78,7],[198,0,78,7],[199,0,78,7],[200,0,78,7],[201,0,78,7],[202,0,78,7],[204,0,84,0],[204,11,84,9,"setSpeakingListener"],[204,30,84,0],[204,31,84,29,"eventName"],[204,40,84,0],[204,42,84,40,"callback"],[204,50,84,0],[204,52,84,50],[205,0,85,4],[205,8,85,8,"SpeechEventEmitter"],[205,26,85,26],[205,27,85,27,"listeners"],[205,36,85,8],[205,37,85,37,"eventName"],[205,46,85,8],[205,48,85,48,"length"],[205,54,85,8],[205,57,85,57],[205,58,85,4],[205,60,85,60],[206,0,86,8,"SpeechEventEmitter"],[206,6,86,8,"SpeechEventEmitter"],[206,24,86,26],[206,25,86,27,"removeAllListeners"],[206,43,86,8],[206,44,86,46,"eventName"],[206,53,86,8],[207,0,87,5],[209,0,88,4,"SpeechEventEmitter"],[209,4,88,4,"SpeechEventEmitter"],[209,22,88,22],[209,23,88,23,"addListener"],[209,34,88,4],[209,35,88,35,"eventName"],[209,44,88,4],[209,46,88,46,"callback"],[209,54,88,4],[210,0,89,1],[212,0,90,0],[212,11,90,9,"removeSpeakingListener"],[212,33,90,0],[212,34,90,32,"eventName"],[212,43,90,0],[212,45,90,43],[213,0,91,4,"SpeechEventEmitter"],[213,4,91,4,"SpeechEventEmitter"],[213,22,91,22],[213,23,91,23,"removeAllListeners"],[213,41,91,4],[213,42,91,42,"eventName"],[213,51,91,4],[214,0,92,1]]},"type":"js/module"}]}
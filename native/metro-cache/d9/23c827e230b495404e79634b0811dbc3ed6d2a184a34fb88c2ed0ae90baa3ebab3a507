{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"expo-constants","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"path-browserify","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"url-parse","data":{"isAsync":false}},{"name":"./AssetSourceResolver","data":{"isAsync":false}},{"name":"./AssetUris","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.selectAssetSource = selectAssetSource;\n  exports.resolveUri = resolveUri;\n\n  var _objectSpread2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/objectSpread\"));\n\n  var _expoConstants = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"expo-constants\"));\n\n  var _core = _$$_REQUIRE(_dependencyMap[3], \"@unimodules/core\");\n\n  var _pathBrowserify = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"path-browserify\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[5], \"react-native\");\n\n  var _urlParse = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"url-parse\"));\n\n  var _AssetSourceResolver = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"./AssetSourceResolver\"));\n\n  var _AssetUris = _$$_REQUIRE(_dependencyMap[8], \"./AssetUris\");\n\n  var assetMapOverride = _expoConstants.default.manifest && _expoConstants.default.manifest.assetMapOverride;\n  var manifestBaseUrl = _expoConstants.default.experienceUrl ? (0, _AssetUris.getManifestBaseUrl)(_expoConstants.default.experienceUrl) : null;\n\n  function selectAssetSource(meta) {\n    if (assetMapOverride && assetMapOverride.hasOwnProperty(meta.hash)) {\n      meta = (0, _objectSpread2.default)({}, meta, assetMapOverride[meta.hash]);\n    }\n\n    var scale = _AssetSourceResolver.default.pickScale(meta.scales, _reactNative.PixelRatio.get());\n\n    var index = meta.scales.findIndex(function (s) {\n      return s === scale;\n    });\n    var hash = meta.fileHashes ? meta.fileHashes[index] || meta.fileHashes[0] : meta.hash;\n    var uri = meta.fileUris ? meta.fileUris[index] || meta.fileUris[0] : meta.uri;\n\n    if (uri) {\n      return {\n        uri: resolveUri(uri),\n        hash: hash\n      };\n    }\n\n    var assetUrlOverride = _expoConstants.default.manifest && _expoConstants.default.manifest.assetUrlOverride;\n\n    if (assetUrlOverride) {\n      var _uri = _pathBrowserify.default.join(assetUrlOverride, hash);\n\n      return {\n        uri: resolveUri(_uri),\n        hash: hash\n      };\n    }\n\n    var fileScale = scale === 1 ? '' : \"@\" + scale + \"x\";\n    var fileExtension = meta.type ? \".\" + encodeURIComponent(meta.type) : '';\n    var suffix = \"/\" + encodeURIComponent(meta.name) + fileScale + fileExtension + \"?platform=\" + encodeURIComponent(_core.Platform.OS) + \"&hash=\" + encodeURIComponent(meta.hash);\n\n    if (/^https?:\\/\\//.test(meta.httpServerLocation)) {\n      var _uri2 = meta.httpServerLocation + suffix;\n\n      return {\n        uri: _uri2,\n        hash: hash\n      };\n    }\n\n    if (_expoConstants.default.manifest && _expoConstants.default.manifest.developer) {\n      var baseUrl = new _urlParse.default(_expoConstants.default.manifest.bundleUrl);\n      baseUrl.set('pathname', meta.httpServerLocation + suffix);\n      return {\n        uri: baseUrl.href,\n        hash: hash\n      };\n    }\n\n    return {\n      uri: \"https://d1wp6m56sqw74a.cloudfront.net/~assets/\" + encodeURIComponent(hash),\n      hash: hash\n    };\n  }\n\n  function resolveUri(uri) {\n    if (!manifestBaseUrl) {\n      return uri;\n    }\n\n    var _ref = new _urlParse.default(uri),\n        protocol = _ref.protocol;\n\n    if (protocol !== '') {\n      return uri;\n    }\n\n    var baseUrl = new _urlParse.default(manifestBaseUrl);\n    var resolvedPath = uri.startsWith('/') ? uri : _pathBrowserify.default.join(baseUrl.pathname, uri);\n    baseUrl.set('pathname', resolvedPath);\n    return baseUrl.href;\n  }\n});","map":[[12,0,1,0],[14,0,2,0],[16,0,3,0],[18,0,4,0],[20,0,5,0],[22,0,6,0],[24,0,7,0],[26,0,9,0],[26,6,9,6,"assetMapOverride"],[26,22,9,22],[26,25,9,25,"Constants"],[26,48,9,35,"manifest"],[26,56,9,25],[26,60,9,47,"Constants"],[26,83,9,57,"manifest"],[26,91,9,47],[26,92,9,66,"assetMapOverride"],[26,108,9,0],[27,0,11,0],[27,6,11,6,"manifestBaseUrl"],[27,21,11,21],[27,24,11,24,"Constants"],[27,47,11,34,"experienceUrl"],[27,60,11,24],[27,63,12,6],[27,98,12,25,"Constants"],[27,121,12,35,"experienceUrl"],[27,134,12,6],[27,135,11,24],[27,138,13,6],[27,142,11,0],[29,0,20,7],[29,11,20,16,"selectAssetSource"],[29,28,20,7],[29,29,20,34,"meta"],[29,33,20,7],[29,35,20,40],[30,0,22,4],[30,8,22,8,"assetMapOverride"],[30,24,22,24],[30,28,22,28,"assetMapOverride"],[30,44,22,44],[30,45,22,45,"hasOwnProperty"],[30,59,22,28],[30,60,22,60,"meta"],[30,64,22,64],[30,65,22,65,"hash"],[30,69,22,28],[30,70,22,4],[30,72,22,72],[31,0,23,8,"meta"],[31,6,23,8,"meta"],[31,10,23,12],[31,45,23,20,"meta"],[31,49,23,12],[31,51,23,29,"assetMapOverride"],[31,67,23,45],[31,68,23,46,"meta"],[31,72,23,50],[31,73,23,51,"hash"],[31,77,23,45],[31,78,23,12],[31,79,23,8],[32,0,24,5],[34,0,27,4],[34,8,27,10,"scale"],[34,13,27,15],[34,16,27,18,"AssetSourceResolver"],[34,45,27,38,"pickScale"],[34,54,27,18],[34,55,27,48,"meta"],[34,59,27,52],[34,60,27,53,"scales"],[34,66,27,18],[34,68,27,61,"PixelRatio"],[34,92,27,72,"get"],[34,95,27,61],[34,97,27,18],[34,98,27,4],[36,0,28,4],[36,8,28,10,"index"],[36,13,28,15],[36,16,28,18,"meta"],[36,20,28,22],[36,21,28,23,"scales"],[36,27,28,18],[36,28,28,30,"findIndex"],[36,37,28,18],[36,38,28,40],[36,48,28,40,"s"],[36,49,28,41],[37,0,28,41],[37,13,28,45,"s"],[37,14,28,46],[37,19,28,51,"scale"],[37,24,28,41],[38,0,28,41],[38,5,28,18],[38,6,28,4],[39,0,29,4],[39,8,29,10,"hash"],[39,12,29,14],[39,15,29,17,"meta"],[39,19,29,21],[39,20,29,22,"fileHashes"],[39,30,29,17],[39,33,29,35,"meta"],[39,37,29,39],[39,38,29,40,"fileHashes"],[39,48,29,35],[39,49,29,51,"index"],[39,54,29,35],[39,59,29,61,"meta"],[39,63,29,65],[39,64,29,66,"fileHashes"],[39,74,29,61],[39,75,29,77],[39,76,29,61],[39,77,29,17],[39,80,29,82,"meta"],[39,84,29,86],[39,85,29,87,"hash"],[39,89,29,4],[40,0,31,4],[40,8,31,10,"uri"],[40,11,31,13],[40,14,31,16,"meta"],[40,18,31,20],[40,19,31,21,"fileUris"],[40,27,31,16],[40,30,31,32,"meta"],[40,34,31,36],[40,35,31,37,"fileUris"],[40,43,31,32],[40,44,31,46,"index"],[40,49,31,32],[40,54,31,56,"meta"],[40,58,31,60],[40,59,31,61,"fileUris"],[40,67,31,56],[40,68,31,70],[40,69,31,56],[40,70,31,16],[40,73,31,75,"meta"],[40,77,31,79],[40,78,31,80,"uri"],[40,81,31,4],[42,0,32,4],[42,8,32,8,"uri"],[42,11,32,4],[42,13,32,13],[43,0,33,8],[43,13,33,15],[44,0,33,17,"uri"],[44,8,33,17,"uri"],[44,11,33,20],[44,13,33,22,"resolveUri"],[44,23,33,32],[44,24,33,33,"uri"],[44,27,33,32],[44,28,33,15],[45,0,33,39,"hash"],[45,8,33,39,"hash"],[45,12,33,43],[45,14,33,39,"hash"],[46,0,33,15],[46,7,33,8],[47,0,34,5],[49,0,36,4],[49,8,36,10,"assetUrlOverride"],[49,24,36,26],[49,27,36,29,"Constants"],[49,50,36,39,"manifest"],[49,58,36,29],[49,62,36,51,"Constants"],[49,85,36,61,"manifest"],[49,93,36,51],[49,94,36,70,"assetUrlOverride"],[49,110,36,4],[51,0,37,4],[51,8,37,8,"assetUrlOverride"],[51,24,37,4],[51,26,37,26],[52,0,38,8],[52,10,38,14,"uri"],[52,14,38,17],[52,17,38,20,"path"],[52,41,38,25,"join"],[52,45,38,20],[52,46,38,30,"assetUrlOverride"],[52,62,38,20],[52,64,38,48,"hash"],[52,68,38,20],[52,69,38,8],[54,0,39,8],[54,13,39,15],[55,0,39,17,"uri"],[55,8,39,17,"uri"],[55,11,39,20],[55,13,39,22,"resolveUri"],[55,23,39,32],[55,24,39,33,"uri"],[55,28,39,32],[55,29,39,15],[56,0,39,39,"hash"],[56,8,39,39,"hash"],[56,12,39,43],[56,14,39,39,"hash"],[57,0,39,15],[57,7,39,8],[58,0,40,5],[60,0,41,4],[60,8,41,10,"fileScale"],[60,17,41,19],[60,20,41,22,"scale"],[60,25,41,27],[60,30,41,32],[60,31,41,22],[60,34,41,36],[60,36,41,22],[60,45,41,45,"scale"],[60,50,41,22],[60,56,41,4],[61,0,42,4],[61,8,42,10,"fileExtension"],[61,21,42,23],[61,24,42,26,"meta"],[61,28,42,30],[61,29,42,31,"type"],[61,33,42,26],[61,42,42,42,"encodeURIComponent"],[61,60,42,60],[61,61,42,61,"meta"],[61,65,42,65],[61,66,42,66,"type"],[61,70,42,60],[61,71,42,26],[61,74,42,76],[61,76,42,4],[62,0,43,4],[62,8,43,10,"suffix"],[62,14,43,16],[62,23,43,23,"encodeURIComponent"],[62,41,43,41],[62,42,43,42,"meta"],[62,46,43,46],[62,47,43,47,"name"],[62,51,43,41],[62,52,43,16],[62,55,43,55,"fileScale"],[62,64,43,16],[62,67,43,67,"fileExtension"],[62,80,43,16],[62,98,43,93,"encodeURIComponent"],[62,116,43,111],[62,117,43,112,"Platform"],[62,132,43,121,"OS"],[62,134,43,111],[62,135,43,16],[62,149,43,133,"encodeURIComponent"],[62,167,43,151],[62,168,43,152,"meta"],[62,172,43,156],[62,173,43,157,"hash"],[62,177,43,151],[62,178,43,4],[64,0,46,4],[64,8,46,8],[64,23,46,23,"test"],[64,27,46,8],[64,28,46,28,"meta"],[64,32,46,32],[64,33,46,33,"httpServerLocation"],[64,51,46,8],[64,52,46,4],[64,54,46,54],[65,0,47,8],[65,10,47,14,"uri"],[65,15,47,17],[65,18,47,20,"meta"],[65,22,47,24],[65,23,47,25,"httpServerLocation"],[65,41,47,20],[65,44,47,46,"suffix"],[65,50,47,8],[67,0,48,8],[67,13,48,15],[68,0,48,17,"uri"],[68,8,48,17,"uri"],[68,11,48,20],[68,13,48,17,"uri"],[68,18,48,15],[69,0,48,22,"hash"],[69,8,48,22,"hash"],[69,12,48,26],[69,14,48,22,"hash"],[70,0,48,15],[70,7,48,8],[71,0,49,5],[73,0,51,4],[73,8,51,8,"Constants"],[73,31,51,18,"manifest"],[73,39,51,8],[73,43,51,30,"Constants"],[73,66,51,40,"manifest"],[73,74,51,30],[73,75,51,49,"developer"],[73,84,51,4],[73,86,51,60],[74,0,52,8],[74,10,52,14,"baseUrl"],[74,17,52,21],[74,20,52,24],[74,24,52,28,"URL"],[74,41,52,24],[74,42,52,32,"Constants"],[74,65,52,42,"manifest"],[74,73,52,32],[74,74,52,51,"bundleUrl"],[74,83,52,24],[74,84,52,8],[75,0,53,8,"baseUrl"],[75,6,53,8,"baseUrl"],[75,13,53,15],[75,14,53,16,"set"],[75,17,53,8],[75,18,53,20],[75,28,53,8],[75,30,53,32,"meta"],[75,34,53,36],[75,35,53,37,"httpServerLocation"],[75,53,53,32],[75,56,53,58,"suffix"],[75,62,53,8],[76,0,54,8],[76,13,54,15],[77,0,54,17,"uri"],[77,8,54,17,"uri"],[77,11,54,20],[77,13,54,22,"baseUrl"],[77,20,54,29],[77,21,54,30,"href"],[77,25,54,15],[78,0,54,36,"hash"],[78,8,54,36,"hash"],[78,12,54,40],[78,14,54,36,"hash"],[79,0,54,15],[79,7,54,8],[80,0,55,5],[82,0,57,4],[82,11,57,11],[83,0,58,8,"uri"],[83,6,58,8,"uri"],[83,9,58,11],[83,62,58,62,"encodeURIComponent"],[83,80,58,80],[83,81,58,81,"hash"],[83,85,58,80],[83,86,57,11],[84,0,59,8,"hash"],[84,6,59,8,"hash"],[84,10,59,12],[84,12,59,8,"hash"],[85,0,57,11],[85,5,57,4],[86,0,61,1],[88,0,67,7],[88,11,67,16,"resolveUri"],[88,21,67,7],[88,22,67,27,"uri"],[88,25,67,7],[88,27,67,32],[89,0,68,4],[89,8,68,8],[89,9,68,9,"manifestBaseUrl"],[89,24,68,4],[89,26,68,26],[90,0,69,8],[90,13,69,15,"uri"],[90,16,69,8],[91,0,70,5],[93,0,67,32],[93,15,71,25],[93,19,71,29,"URL"],[93,36,71,25],[93,37,71,33,"uri"],[93,40,71,25],[93,41,67,32],[94,0,67,32],[94,8,71,12,"protocol"],[94,16,67,32],[94,24,71,12,"protocol"],[94,32,67,32],[96,0,72,4],[96,8,72,8,"protocol"],[96,16,72,16],[96,21,72,21],[96,23,72,4],[96,25,72,25],[97,0,73,8],[97,13,73,15,"uri"],[97,16,73,8],[98,0,74,5],[100,0,75,4],[100,8,75,10,"baseUrl"],[100,15,75,17],[100,18,75,20],[100,22,75,24,"URL"],[100,39,75,20],[100,40,75,28,"manifestBaseUrl"],[100,55,75,20],[100,56,75,4],[101,0,76,4],[101,8,76,10,"resolvedPath"],[101,20,76,22],[101,23,76,25,"uri"],[101,26,76,28],[101,27,76,29,"startsWith"],[101,37,76,25],[101,38,76,40],[101,41,76,25],[101,45,76,47,"uri"],[101,48,76,25],[101,51,76,53,"path"],[101,75,76,58,"join"],[101,79,76,53],[101,80,76,63,"baseUrl"],[101,87,76,70],[101,88,76,71,"pathname"],[101,96,76,53],[101,98,76,81,"uri"],[101,101,76,53],[101,102,76,4],[102,0,77,4,"baseUrl"],[102,4,77,4,"baseUrl"],[102,11,77,11],[102,12,77,12,"set"],[102,15,77,4],[102,16,77,16],[102,26,77,4],[102,28,77,28,"resolvedPath"],[102,40,77,4],[103,0,78,4],[103,11,78,11,"baseUrl"],[103,18,78,18],[103,19,78,19,"href"],[103,23,78,4],[104,0,79,1]]},"type":"js/module"}]}
{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"fbemitter","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n\n  var _core = _$$_REQUIRE(_dependencyMap[4], \"@unimodules/core\");\n\n  var _fbemitter = _$$_REQUIRE(_dependencyMap[5], \"fbemitter\");\n\n  var CTKNativeAdManager = _core.NativeModulesProxy.CTKNativeAdManager;\n  var nativeAdEmitter = new _core.EventEmitter(CTKNativeAdManager);\n  var EVENT_DID_BECOME_VALID = 'AdsManagerDidBecomeValid';\n\n  var NativeAdsManager = function () {\n    function NativeAdsManager(placementId) {\n      var adsToRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      (0, _classCallCheck2.default)(this, NativeAdsManager);\n      this.isValid = false;\n      this.eventEmitter = new _fbemitter.EventEmitter();\n      this.placementId = placementId;\n      this.adsToRequest = adsToRequest;\n\n      this._listenForStateChanges();\n\n      CTKNativeAdManager.init(placementId, adsToRequest);\n    }\n\n    (0, _createClass2.default)(NativeAdsManager, [{\n      key: \"_listenForStateChanges\",\n      value: function _listenForStateChanges() {\n        var _this = this;\n\n        nativeAdEmitter.addListener('CTKNativeAdsManagersChanged', function (managers) {\n          var isValidNew = managers[_this.placementId];\n          var isValid = _this.isValid;\n\n          if (isValid !== isValidNew && isValidNew) {\n            _this.isValid = true;\n\n            _this.eventEmitter.emit(EVENT_DID_BECOME_VALID);\n          }\n        });\n      }\n    }, {\n      key: \"onAdsLoaded\",\n      value: function onAdsLoaded(listener) {\n        if (this.isValid) {\n          setImmediate(listener);\n          return {\n            remove: function remove() {}\n          };\n        }\n\n        return this.eventEmitter.once(EVENT_DID_BECOME_VALID, listener);\n      }\n    }, {\n      key: \"disableAutoRefresh\",\n      value: function disableAutoRefresh() {\n        CTKNativeAdManager.disableAutoRefresh(this.placementId);\n      }\n    }, {\n      key: \"setMediaCachePolicy\",\n      value: function setMediaCachePolicy(cachePolicy) {\n        CTKNativeAdManager.setMediaCachePolicy(this.placementId, cachePolicy);\n      }\n    }], [{\n      key: \"registerViewsForInteractionAsync\",\n      value: function registerViewsForInteractionAsync(nativeAdViewTag, mediaViewTag, adIconViewTag, clickable) {\n        return _regenerator.default.async(function registerViewsForInteractionAsync$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regenerator.default.awrap(CTKNativeAdManager.registerViewsForInteraction(nativeAdViewTag, mediaViewTag, adIconViewTag, clickable));\n\n              case 2:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        });\n      }\n    }, {\n      key: \"triggerEvent\",\n      value: function triggerEvent(nativeAdViewTag) {\n        return CTKNativeAdManager.triggerEvent(nativeAdViewTag);\n      }\n    }]);\n    return NativeAdsManager;\n  }();\n\n  var _default = NativeAdsManager;\n  exports.default = _default;\n});","map":[[15,0,1,0],[17,0,2,0],[19,6,3,8,"CTKNativeAdManager"],[19,24],[19,27,3,31,"NativeModulesProxy"],[19,51],[19,52,3,8,"CTKNativeAdManager"],[19,70],[20,0,4,0],[20,6,4,6,"nativeAdEmitter"],[20,21,4,21],[20,24,4,24],[20,28,4,28,"NativeEventEmitter"],[20,46,4,24],[20,47,4,47,"CTKNativeAdManager"],[20,65,4,24],[20,66,4,0],[21,0,5,0],[21,6,5,6,"EVENT_DID_BECOME_VALID"],[21,28,5,28],[21,31,5,31],[21,57,5,0],[23,6,6,6,"NativeAdsManager"],[23,22],[24,0,13,4],[24,30,13,16,"placementId"],[24,41,13,4],[24,43,13,48],[25,0,13,48],[25,10,13,29,"adsToRequest"],[25,22,13,48],[25,93,13,44],[25,95,13,48],[26,0,13,48],[27,0,15,8],[27,11,15,13,"isValid"],[27,18,15,8],[27,21,15,23],[27,26,15,8],[28,0,17,8],[28,11,17,13,"eventEmitter"],[28,23,17,8],[28,26,17,28],[28,30,17,32,"EventEmitter"],[28,53,17,28],[28,55,17,8],[29,0,18,8],[29,11,18,13,"placementId"],[29,22,18,8],[29,25,18,27,"placementId"],[29,36,18,8],[30,0,19,8],[30,11,19,13,"adsToRequest"],[30,23,19,8],[30,26,19,28,"adsToRequest"],[30,38,19,8],[32,0,20,8],[32,11,20,13,"_listenForStateChanges"],[32,33,20,8],[34,0,21,8,"CTKNativeAdManager"],[34,6,21,8,"CTKNativeAdManager"],[34,24,21,26],[34,25,21,27,"init"],[34,29,21,8],[34,30,21,32,"placementId"],[34,41,21,8],[34,43,21,45,"adsToRequest"],[34,55,21,8],[35,0,22,5],[39,47,33,29],[40,0,33,29],[42,0,34,8,"nativeAdEmitter"],[42,8,34,8,"nativeAdEmitter"],[42,23,34,23],[42,24,34,24,"addListener"],[42,35,34,8],[42,36,34,36],[42,65,34,8],[42,67,34,67],[42,77,34,68,"managers"],[42,85,34,67],[42,87,34,81],[43,0,35,12],[43,14,35,18,"isValidNew"],[43,24,35,28],[43,27,35,31,"managers"],[43,35,35,39],[43,36,35,40],[43,41,35,44],[43,42,35,45,"placementId"],[43,53,35,39],[43,54,35,12],[44,0,36,12],[44,14,36,18,"isValid"],[44,21,36,25],[44,24,36,28],[44,29,36,32],[44,30,36,33,"isValid"],[44,37,36,12],[46,0,37,12],[46,14,37,16,"isValid"],[46,21,37,23],[46,26,37,28,"isValidNew"],[46,36,37,16],[46,40,37,42,"isValidNew"],[46,50,37,12],[46,52,37,54],[47,0,38,16],[47,12,38,16],[47,17,38,20],[47,18,38,21,"isValid"],[47,25,38,16],[47,28,38,31],[47,32,38,16],[49,0,39,16],[49,12,39,16],[49,17,39,20],[49,18,39,21,"eventEmitter"],[49,30,39,16],[49,31,39,34,"emit"],[49,35,39,16],[49,36,39,39,"EVENT_DID_BECOME_VALID"],[49,58,39,16],[50,0,40,13],[51,0,41,9],[51,9,34,8],[52,0,42,5],[55,34,49,16,"listener"],[55,42],[55,44,49,26],[56,0,50,8],[56,12,50,12],[56,17,50,17,"isValid"],[56,24,50,8],[56,26,50,26],[57,0,51,12,"setImmediate"],[57,10,51,12,"setImmediate"],[57,22,51,24],[57,23,51,25,"listener"],[57,31,51,24],[57,32,51,12],[58,0,52,12],[58,17,52,19],[59,0,53,16,"remove"],[59,12,53,16,"remove"],[59,18,53,22],[59,20,53,24],[59,38,53,30],[59,39,53,33],[60,0,52,19],[60,11,52,12],[61,0,55,9],[63,0,56,8],[63,15,56,15],[63,20,56,20,"eventEmitter"],[63,32,56,15],[63,33,56,33,"once"],[63,37,56,15],[63,38,56,38,"EVENT_DID_BECOME_VALID"],[63,60,56,15],[63,62,56,62,"listener"],[63,70,56,15],[63,71,56,8],[64,0,57,5],[67,43,61,25],[68,0,62,8,"CTKNativeAdManager"],[68,8,62,8,"CTKNativeAdManager"],[68,26,62,26],[68,27,62,27,"disableAutoRefresh"],[68,45,62,8],[68,46,62,46],[68,51,62,51,"placementId"],[68,62,62,8],[69,0,63,5],[72,42,69,24,"cachePolicy"],[72,53],[72,55,69,37],[73,0,70,8,"CTKNativeAdManager"],[73,8,70,8,"CTKNativeAdManager"],[73,26,70,26],[73,27,70,27,"setMediaCachePolicy"],[73,46,70,8],[73,47,70,47],[73,52,70,52,"placementId"],[73,63,70,8],[73,65,70,65,"cachePolicy"],[73,76,70,8],[74,0,71,5],[77,55,23,50,"nativeAdViewTag"],[77,70],[77,72,23,67,"mediaViewTag"],[77,84],[77,86,23,81,"adIconViewTag"],[77,99],[77,101,23,96,"clickable"],[77,110],[83,50,24,21,"CTKNativeAdManager"],[83,68,24,39],[83,69,24,40,"registerViewsForInteraction"],[83,96,24,21],[83,97,24,68,"nativeAdViewTag"],[83,112,24,21],[83,114,24,85,"mediaViewTag"],[83,126,24,21],[83,128,24,99,"adIconViewTag"],[83,141,24,21],[83,143,24,114,"clickable"],[83,152,24,21],[83,153],[97,35,26,24,"nativeAdViewTag"],[97,50],[97,52,26,41],[98,0,27,8],[98,15,27,15,"CTKNativeAdManager"],[98,33,27,33],[98,34,27,34,"triggerEvent"],[98,46,27,15],[98,47,27,47,"nativeAdViewTag"],[98,62,27,15],[98,63,27,8],[99,0,28,5],[104,17,73,15,"NativeAdsManager"],[104,33]]},"type":"js/module"}]}